{% comment %}
  Magnifiq AI Description Block
  Displays AI-generated product description from metafields
{% endcomment %}

{%- assign description_content = product.metafields.magnifiq.description.value -%}

{%- if description_content != blank -%}
  <style>
    .magnifiq-description { margin: 2rem 0; }
    .magnifiq-description__heading { font-size: 1.5rem; font-weight: 600; margin-bottom: 1rem; }
    .magnifiq-description__content { line-height: 1.7; color: #374151; }
    .magnifiq-description__content p { margin-bottom: 1rem; }
    .magnifiq-description__content p:last-child { margin-bottom: 0; }
  </style>
  <div class="magnifiq-description" {{ block.shopify_attributes }}>
    {%- if block.settings.show_heading -%}
      <h2 class="magnifiq-description__heading">{{ block.settings.heading }}</h2>
    {%- endif -%}

    <div class="magnifiq-description__content">
      {{ description_content }}
    </div>
  </div>
{%- endif -%}

{% schema %}
{
  "name": "t:blocks.ai_description.name",
  "target": "section",
  "settings": [
    {
      "type": "text",
      "id": "heading",
      "label": "t:blocks.ai_description.settings.heading.label",
      "default": "t:blocks.ai_description.settings.heading.default"
    },
    {
      "type": "checkbox",
      "id": "show_heading",
      "label": "t:blocks.ai_description.settings.show_heading.label",
      "default": false
    }
  ]
}
{% endschema %}
